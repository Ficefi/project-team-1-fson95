{"version":3,"file":"SignUpPage -B18C63nm.js","sources":["../../src/components/SignUpForm/SignUpForm.jsx","../../src/pages/SignUpPage/SignUpPage .jsx"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { signUp } from '../../redux/auth/operations';\nimport { useId, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport * as Yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport clsx from 'clsx';\nimport css from './SignUpForm.module.css';\n\nconst RegisterSchema = Yup.object().shape({\n  email: Yup.string().email('Invalid email').required('Required'),\n  password: Yup.string().min(6, 'Too short!').required('Required'),\n  repeatPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\n    .required('Required'),\n});\n\nconst initialValues = {\n  email: '',\n  password: '',\n  repeatPassword: '',\n};\n\nconst SignUpForm = () => {\n  const dispatch = useDispatch();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [isFieldActivated, setIsFieldActivated] = useState({\n    email: false,\n    password: false,\n    repeatPassword: false,\n  });\n\n  const emailFieldId = useId();\n  const passwordFieldId = useId();\n  const repeatPasswordFieldId = useId();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    getValues,\n  } = useForm({\n    resolver: yupResolver(RegisterSchema),\n    defaultValues: initialValues,\n    mode: 'onChange',\n  });\n\n  const onSubmit = (values) => {\n    dispatch(\n      signUp({\n        email: values.email,\n        password: values.password,\n      })\n    );\n    reset();\n  };\n\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleActivate = (field) => {\n    setIsFieldActivated({ ...isFieldActivated, [field]: !!getValues(field) });\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={css.signUpFields}>\n      <div className={css.signUpFormInput}>\n        <label htmlFor={emailFieldId} className={css.fieldText}>\n          Email\n        </label>\n        <input\n          type=\"text\"\n          id={emailFieldId}\n          placeholder=\"Enter your email\"\n          className={clsx(css.inputField, {\n            [css.inputFieldError]: errors.email,\n            [css.inputFieldActivated]: isFieldActivated.email,\n          })}\n          {...register('email')}\n          onBlur={() => handleActivate('email')}\n        />\n        {errors.email && (\n          <span className={css.errMessage}>{errors.email.message}</span>\n        )}\n      </div>\n      <div className={css.signUpFormInput}>\n        <label htmlFor={passwordFieldId} className={css.fieldText}>\n          Password\n        </label>\n        <input\n          type={showPassword ? 'text' : 'password'}\n          id={passwordFieldId}\n          placeholder=\"Enter your password\"\n          className={clsx(css.inputField, {\n            [css.inputFieldError]: errors.password,\n            [css.inputFieldActivated]: isFieldActivated.password,\n          })}\n          {...register('password')}\n          onBlur={() => handleActivate('password')}\n        />\n        <button\n          type=\"button\"\n          className={css.togglePasswordBtn}\n          onClick={togglePasswordVisibility}\n        >\n          <svg className={css.eyeIcon} width=\"20\" height=\"20\">\n            <use\n              href={`/svg/sprite.svg#${\n                showPassword ? 'icon-eye' : 'icon-eye-off'\n              }`}\n            ></use>\n          </svg>\n        </button>\n        {errors.password && (\n          <span className={css.errMessage}>{errors.password.message}</span>\n        )}\n      </div>\n      <div className={css.signUpFormInput}>\n        <label htmlFor={repeatPasswordFieldId} className={css.fieldText}>\n          Repeat password\n        </label>\n        <input\n          type={showPassword ? 'text' : 'password'}\n          id={repeatPasswordFieldId}\n          placeholder=\"Repeat password\"\n          className={clsx(css.inputField, {\n            [css.inputFieldError]: errors.repeatPassword,\n            [css.inputFieldActivated]: isFieldActivated.repeatPassword,\n          })}\n          {...register('repeatPassword')}\n          onBlur={() => handleActivate('repeatPassword')}\n        />\n        <button\n          type=\"button\"\n          className={css.togglePasswordBtn}\n          onClick={togglePasswordVisibility}\n        >\n          <svg className={css.eyeIcon} width=\"20\" height=\"20\">\n            <use\n              href={`/svg/sprite.svg#${\n                showPassword ? 'icon-eye' : 'icon-eye-off'\n              }`}\n            ></use>\n          </svg>\n        </button>\n        {errors.repeatPassword && (\n          <span className={css.errMessage}>\n            {errors.repeatPassword.message}\n          </span>\n        )}\n      </div>\n      <button type=\"submit\" className={css.signUpBtn}>\n        Sign Up\n      </button>\n    </form>\n  );\n};\n\nexport default SignUpForm;\n","import css from './SignUpPage.module.css';\nimport SignUpForm from '../../components/SignUpForm/SignUpForm';\nimport AdvantagesSection from '../../components/AdvantagesSection/AdvantagesSection';\nimport Logo from '../../components/Logo/Logo';\nimport { Link } from 'react-router-dom';\n\nconst SignUpPage = () => {\n  return (\n    <div className={css.mainContainer}>\n      <div className={css.container}>\n        <Logo />\n        <div className={css.signUpContainer}>\n          <h1 className={css.title}>Sign Up</h1>\n          <SignUpForm />\n        </div>\n        <p className={css.text}>\n          Already have account? <Link to=\"/login\">Sign In</Link>\n        </p>\n      </div>\n      <div className={css.AdvantagesSectionContainer}>\n        <AdvantagesSection />\n      </div>\n    </div>\n  );\n};\nexport default SignUpPage;\n"],"names":["RegisterSchema","Yup.object","Yup.string","Yup.ref","initialValues","SignUpForm","dispatch","useDispatch","showPassword","setShowPassword","useState","isFieldActivated","setIsFieldActivated","emailFieldId","useId","passwordFieldId","repeatPasswordFieldId","register","handleSubmit","errors","reset","getValues","useForm","yupResolver","onSubmit","values","signUp","togglePasswordVisibility","handleActivate","field","jsxs","css","jsx","clsx","SignUpPage","Logo","Link","AdvantagesSection"],"mappings":"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"}