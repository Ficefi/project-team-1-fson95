{"version":3,"file":"SignInPage-CtmNJj8l.js","sources":["../../src/components/SignInForm/SignInForm.jsx","../../src/pages/SignInPage/SignInPage.jsx"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { signIn } from '../../redux/auth/operations';\nimport { useId, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport clsx from 'clsx';\n\nimport css from './SignInForm.module.css';\n\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string().email('Invalid email').required('Required'),\n  password: Yup.string().required('Required'),\n});\n\nconst initialValues = {\n  email: '',\n  password: '',\n};\n\nconst SignInForm = () => {\n  const dispatch = useDispatch();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [isFieldActivated, setIsFieldActivated] = useState({\n    email: false,\n    password: false,\n  });\n  const emailFieldId = useId();\n  const passwordFieldId = useId();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    reset,\n    getValues,\n  } = useForm({\n    resolver: yupResolver(LoginSchema),\n    defaultValues: initialValues,\n    mode: 'onChange',\n  });\n\n  const onSubmit = (values) => {\n    dispatch(\n      signIn({\n        email: values.email,\n        password: values.password,\n      })\n    );\n    reset();\n  };\n\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleActivate = (field) => {\n    setIsFieldActivated({ ...isFieldActivated, [field]: !!getValues(field) });\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className={css.signInFields}>\n      <div className={css.signInFormInput}>\n        <label htmlFor={emailFieldId} className={css.fieldText}>\n          Email\n        </label>\n        <input\n          type=\"text\"\n          id={emailFieldId}\n          placeholder=\"Enter your email\"\n          className={clsx(css.inputField, {\n            [css.inputFieldError]: errors.email,\n            [css.inputFieldActivated]: isFieldActivated.email,\n          })}\n          {...register('email')}\n          onBlur={() => handleActivate('email')}\n        />\n        {errors.email && (\n          <span className={css.errMessage}>{errors.email.message}</span>\n        )}\n      </div>\n      <div className={css.signInFormInput}>\n        <label htmlFor={passwordFieldId} className={css.fieldText}>\n          Password\n        </label>\n        <input\n          type={showPassword ? 'text' : 'password'}\n          id={passwordFieldId}\n          placeholder=\"Enter your password\"\n          className={clsx(css.inputField, {\n            [css.inputFieldError]: errors.password,\n            [css.inputFieldActivated]: isFieldActivated.password,\n          })}\n          {...register('password')}\n          onBlur={() => handleActivate('password')}\n        />\n        <button\n          type=\"button\"\n          className={css.togglePasswordBtn}\n          onClick={togglePasswordVisibility}\n        >\n          <svg className={css.eyeIcon} width=\"20\" height=\"20\">\n            <use\n              href={`/svg/sprite.svg#${\n                showPassword ? 'icon-eye' : 'icon-eye-off'\n              }`}\n            ></use>\n          </svg>\n        </button>\n        {errors.password && (\n          <span className={css.errMessage}>{errors.password.message}</span>\n        )}\n      </div>\n\n      <button type=\"submit\" className={css.signInBtn}>\n        Sign In\n      </button>\n    </form>\n  );\n};\n\nexport default SignInForm;\n","import css from './SignInPage.module.css';\nimport SignInForm from '../../components/SignInForm/SignInForm';\nimport AdvantagesSection from '../../components/AdvantagesSection/AdvantagesSection';\nimport Logo from '../../components/Logo/Logo';\nimport { Link } from 'react-router-dom';\n\nconst SignInPage = () => {\n  return (\n    <div className={css.mainContainer}>\n      <div className={css.container}>\n        <Logo />\n        <div className={css.signInContainer}>\n          <h1 className={css.title}>Sign In</h1>\n          <SignInForm />\n        </div>\n        <p className={css.text}>\n          Donâ€™t have an account? <Link to=\"/register\">Sign Up</Link>\n        </p>\n      </div>\n      <div className={css.AdvantagesSectionContainer}>\n        <AdvantagesSection />\n      </div>\n    </div>\n  );\n};\n\nexport default SignInPage;\n"],"names":["LoginSchema","Yup.object","Yup.string","initialValues","SignInForm","dispatch","useDispatch","showPassword","setShowPassword","useState","isFieldActivated","setIsFieldActivated","emailFieldId","useId","passwordFieldId","register","handleSubmit","errors","reset","getValues","useForm","yupResolver","onSubmit","values","signIn","togglePasswordVisibility","handleActivate","field","jsxs","css","jsx","clsx","SignInPage","Logo","Link","AdvantagesSection"],"mappings":"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"}